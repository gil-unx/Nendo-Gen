DPRINT("battle0000.luc")
cool_type = {
  0,
  2,
  7,
  12,
  5,
  -1
}
motion_set = {
  {
    0,
    255,
    255,
    0,
    0
  },
  {
    8,
    255,
    255,
    0,
    0
  },
  {
    16777329,
    255,
    255,
    0,
    0
  },
  {
    16777401,
    9,
    0,
    0,
    0
  },
  {
    16777404,
    1,
    0,
    2,
    2
  },
  {
    16777405,
    255,
    255,
    0,
    0
  },
  {
    16777406,
    255,
    255,
    0,
    0
  },
  {
    16777407,
    255,
    255,
    0,
    0
  },
  {
    16777408,
    3,
    3,
    2,
    2
  },
  {
    16777409,
    255,
    255,
    0,
    0
  },
  {
    16777410,
    9,
    6,
    2,
    2
  },
  {
    16777411,
    255,
    255,
    0,
    0
  },
  {
    16777414,
    255,
    255,
    2,
    2
  },
  {
    16777412,
    255,
    255,
    2,
    2
  },
  {
    16777415,
    255,
    255,
    2,
    2
  },
  {
    16777413,
    255,
    255,
    2,
    2
  },
  {
    16777399,
    255,
    255,
    0,
    0
  },
  {
    16777402,
    255,
    255,
    2,
    2
  },
  {
    16777403,
    255,
    255,
    0,
    0
  },
  {
    16777418,
    0,
    1,
    2,
    0
  },
  {
    16777419,
    255,
    255,
    0,
    0
  },
  {
    16777420,
    0,
    1,
    2,
    2
  },
  {
    16777314,
    0,
    0,
    2,
    2
  },
  {
    16777315,
    2,
    0,
    2,
    2
  },
  {
    16777423,
    2,
    3,
    0,
    0
  },
  {
    16777424,
    255,
    255,
    0,
    0
  },
  {
    16777427,
    2,
    2,
    0,
    0
  },
  {
    16777428,
    255,
    255,
    0,
    0
  },
  {
    16777429,
    2,
    2,
    2,
    2
  },
  {
    16777430,
    255,
    255,
    0,
    0
  },
  {
    16777431,
    255,
    255,
    0,
    0
  },
  {
    16777432,
    255,
    255,
    0,
    0
  },
  {
    16777433,
    2,
    4,
    2,
    2
  },
  {
    -1,
    -1,
    -1,
    -1,
    -1
  }
}
motion_cool_set = {
  {
    0,
    255,
    255,
    0,
    0
  },
  {
    8,
    255,
    255,
    0,
    0
  },
  {
    16777329,
    255,
    255,
    0,
    0
  },
  {
    16777401,
    255,
    255,
    0,
    0
  },
  {
    16777404,
    255,
    255,
    2,
    2
  },
  {
    16777405,
    255,
    255,
    0,
    0
  },
  {
    16777406,
    255,
    255,
    0,
    0
  },
  {
    16777407,
    255,
    255,
    0,
    0
  },
  {
    16777408,
    1,
    0,
    2,
    2
  },
  {
    16777409,
    255,
    255,
    0,
    0
  },
  {
    16777410,
    1,
    0,
    2,
    2
  },
  {
    16777411,
    255,
    255,
    0,
    0
  },
  {
    16777414,
    255,
    255,
    2,
    2
  },
  {
    16777412,
    255,
    255,
    2,
    2
  },
  {
    16777415,
    255,
    255,
    2,
    2
  },
  {
    16777413,
    255,
    255,
    2,
    2
  },
  {
    16777399,
    255,
    255,
    0,
    0
  },
  {
    16777402,
    255,
    255,
    2,
    2
  },
  {
    16777403,
    255,
    255,
    0,
    0
  },
  {
    16777418,
    0,
    1,
    2,
    0
  },
  {
    16777419,
    255,
    255,
    0,
    0
  },
  {
    16777420,
    0,
    1,
    2,
    2
  },
  {
    16777314,
    0,
    0,
    2,
    2
  },
  {
    16777315,
    2,
    0,
    2,
    2
  },
  {
    16777423,
    2,
    3,
    0,
    0
  },
  {
    16777424,
    255,
    255,
    0,
    0
  },
  {
    16777427,
    2,
    2,
    0,
    0
  },
  {
    16777428,
    255,
    255,
    0,
    0
  },
  {
    16777429,
    2,
    2,
    2,
    2
  },
  {
    16777430,
    255,
    255,
    0,
    0
  },
  {
    16777431,
    255,
    255,
    0,
    0
  },
  {
    16777432,
    255,
    255,
    0,
    0
  },
  {
    16777433,
    2,
    4,
    2,
    2
  },
  {
    -1,
    -1,
    -1,
    -1,
    -1
  }
}
char_set = {
  {
    {
      0,
      8,
      255,
      255,
      0,
      0
    },
    {
      2,
      8,
      255,
      255,
      0,
      0
    },
    {
      7,
      8,
      255,
      255,
      0,
      0
    },
    {
      12,
      8,
      255,
      255,
      0,
      0
    },
    {
      5,
      8,
      255,
      255,
      0,
      0
    },
    {
      -1,
      10,
      0,
      1,
      0,
      0
    }
  },
  {
    {
      0,
      0,
      255,
      255,
      0,
      0
    },
    {
      2,
      0,
      255,
      255,
      0,
      0
    },
    {
      7,
      0,
      255,
      255,
      0,
      0
    },
    {
      12,
      0,
      255,
      255,
      0,
      0
    },
    {
      5,
      0,
      255,
      255,
      0,
      0
    },
    {
      -1,
      12,
      2,
      4,
      0,
      0
    }
  },
  {
    {
      0,
      0,
      255,
      255,
      0,
      0
    },
    {
      2,
      0,
      255,
      255,
      0,
      0
    },
    {
      7,
      0,
      255,
      255,
      0,
      0
    },
    {
      12,
      0,
      255,
      255,
      0,
      0
    },
    {
      5,
      0,
      255,
      255,
      0,
      0
    },
    {
      -1,
      14,
      9,
      6,
      2,
      2
    }
  },
  {
    {
      0,
      0,
      255,
      255,
      0,
      0
    },
    {
      2,
      0,
      255,
      255,
      0,
      0
    },
    {
      7,
      0,
      255,
      255,
      0,
      0
    },
    {
      12,
      0,
      255,
      255,
      0,
      0
    },
    {
      5,
      0,
      255,
      255,
      0,
      0
    },
    {
      -1,
      9,
      8,
      3,
      2,
      2
    }
  },
  {
    {
      0,
      8,
      255,
      255,
      0,
      0
    },
    {
      2,
      8,
      255,
      255,
      0,
      0
    },
    {
      7,
      8,
      255,
      255,
      0,
      0
    },
    {
      12,
      8,
      255,
      255,
      0,
      0
    },
    {
      5,
      8,
      255,
      255,
      0,
      0
    },
    {
      -1,
      16,
      2,
      1,
      0,
      0
    }
  },
  {
    {
      0,
      0,
      255,
      255,
      0,
      0
    },
    {
      2,
      0,
      255,
      255,
      0,
      0
    },
    {
      7,
      0,
      255,
      255,
      0,
      0
    },
    {
      12,
      0,
      255,
      255,
      0,
      0
    },
    {
      5,
      0,
      255,
      255,
      0,
      0
    },
    {
      -1,
      18,
      2,
      4,
      0,
      3
    }
  },
  {
    {
      0,
      8,
      255,
      255,
      0,
      0
    },
    {
      2,
      8,
      255,
      255,
      0,
      0
    },
    {
      7,
      8,
      255,
      255,
      0,
      0
    },
    {
      12,
      8,
      255,
      255,
      0,
      0
    },
    {
      5,
      8,
      255,
      255,
      0,
      0
    },
    {
      -1,
      20,
      2,
      2,
      0,
      0
    }
  },
  {
    {
      12,
      0,
      255,
      255,
      0,
      0
    },
    {
      -1,
      22,
      2,
      0,
      0,
      0
    }
  }
}
char_reset = {
  {
    {
      0,
      0,
      255,
      255,
      0,
      0
    },
    {
      2,
      0,
      255,
      255,
      0,
      0
    },
    {
      7,
      0,
      255,
      255,
      0,
      0
    },
    {
      12,
      0,
      255,
      255,
      0,
      0
    },
    {
      5,
      0,
      255,
      255,
      0,
      0
    },
    {
      -1,
      11,
      255,
      255,
      0,
      0
    }
  },
  {
    {
      0,
      0,
      255,
      255,
      0,
      0
    },
    {
      2,
      0,
      255,
      255,
      0,
      0
    },
    {
      7,
      0,
      255,
      255,
      0,
      0
    },
    {
      12,
      0,
      255,
      255,
      0,
      0
    },
    {
      5,
      0,
      255,
      255,
      0,
      0
    },
    {
      -1,
      13,
      255,
      255,
      0,
      0
    }
  },
  {
    {
      0,
      0,
      255,
      255,
      0,
      0
    },
    {
      2,
      0,
      255,
      255,
      0,
      0
    },
    {
      7,
      0,
      255,
      255,
      0,
      0
    },
    {
      12,
      0,
      255,
      255,
      0,
      0
    },
    {
      5,
      0,
      255,
      255,
      0,
      0
    },
    {
      -1,
      15,
      255,
      255,
      0,
      0
    }
  },
  {
    {
      0,
      0,
      255,
      255,
      0,
      0
    },
    {
      2,
      0,
      255,
      255,
      0,
      0
    },
    {
      7,
      0,
      255,
      255,
      0,
      0
    },
    {
      12,
      0,
      255,
      255,
      0,
      0
    },
    {
      5,
      0,
      255,
      255,
      0,
      0
    },
    {
      -1,
      0,
      255,
      255,
      0,
      0
    }
  },
  {
    {
      0,
      0,
      255,
      255,
      0,
      0
    },
    {
      2,
      0,
      255,
      255,
      0,
      0
    },
    {
      7,
      0,
      255,
      255,
      0,
      0
    },
    {
      12,
      0,
      255,
      255,
      0,
      0
    },
    {
      5,
      0,
      255,
      255,
      0,
      0
    },
    {
      -1,
      17,
      255,
      255,
      0,
      0
    }
  },
  {
    {
      0,
      0,
      255,
      255,
      0,
      0
    },
    {
      2,
      0,
      255,
      255,
      0,
      0
    },
    {
      7,
      0,
      255,
      255,
      0,
      0
    },
    {
      12,
      0,
      255,
      255,
      0,
      0
    },
    {
      5,
      0,
      255,
      255,
      0,
      0
    },
    {
      -1,
      19,
      255,
      255,
      0,
      0
    }
  },
  {
    {
      0,
      0,
      255,
      255,
      0,
      0
    },
    {
      2,
      0,
      255,
      255,
      0,
      0
    },
    {
      7,
      0,
      255,
      255,
      0,
      0
    },
    {
      12,
      0,
      255,
      255,
      0,
      0
    },
    {
      5,
      0,
      255,
      255,
      0,
      0
    },
    {
      -1,
      21,
      255,
      255,
      0,
      0
    }
  },
  {
    {
      12,
      0,
      255,
      255,
      0,
      0
    },
    {
      -1,
      23,
      255,
      255,
      0,
      0
    }
  }
}
function fc_TreasureFunc(A0_0)
  local L1_1, L2_2
  L1_1 = DPRINT
  L2_2 = "fc_TreasureFunc()"
  L1_1(L2_2)
  L1_1 = AddTreasure
  L2_2 = A0_0
  L1_1 = L1_1(L2_2)
  L2_2 = A0_0
  Model_SetMotion(L2_2, 1, 0, false)
  Wait_ModelMotion(L2_2)
  Message_WindowOpen(1)
  Wait_MessageWindow()
  if L1_1 == true then
    PlaySE(16777222)
    SetMes("TRE_000", "[COL SYS_NAM][STR TREASURE_NAME][COL SYS_DEF]\227\130\146\230\137\139\227\129\171\229\133\165\227\130\140\227\129\190\227\129\151\227\129\159\227\128\130\n")
  else
    SetMes("TRE_001", "[COL SYS_NAM][STR TREASURE_NAME][COL SYS_DEF]\227\130\146\232\166\139\227\129\164\227\129\145\227\129\190\227\129\151\227\129\159\227\128\130\n\226\128\166\227\129\151\227\129\139\227\129\151\227\128\129\227\129\147\227\129\174\227\130\162\227\130\164\227\131\134\227\131\160\227\129\175\227\130\130\227\129\134\230\140\129\227\129\161\229\136\135\227\130\140\227\129\190\227\129\155\227\130\147\227\128\130")
  end
  Message_WindowClose()
  Message_Clear()
  Wait_MessageWindow()
  if L1_1 == false then
    Model_SetMotion(L2_2, 0, 1, false)
    Wait_ModelMotion(L2_2)
  end
end
function fc_ExitFunc()
  Message_WindowOpen(1)
  Wait_MessageWindow()
  SetMes("EXT_000", "\227\131\158\227\131\131\227\131\151\227\129\174\229\164\150\227\129\171\229\135\186\227\129\190\227\129\153\227\129\140\227\130\136\227\130\141\227\129\151\227\129\132\227\129\167\227\129\153\227\129\139\239\188\159")
  Message_SetBranch("\227\129\175\227\129\132", "\227\129\132\227\129\132\227\129\136", 1)
  Message_WindowClose()
  Message_Clear()
  Wait_MessageWindow()
  if Message_GetBranchResult() == 0 then
    OffSystemFlag(0)
    OffSystemFlag(2)
    OffSystemFlag(1)
    OffSystemFlag(1)
    Map_ExitToIntermission()
  elseif Message_GetBranchResult() == 1 then
  end
end
function fc_EscapeDungeonFunc()
  local L0_3, L1_4, L2_5, L3_6, L4_7, L5_8, L6_9, L7_10, L8_11, L9_12, L10_13, L11_14, L12_15, L13_16, L14_17, L15_18, L16_19
  L0_3 = {
    L1_4,
    L2_5,
    L3_6,
    L4_7,
    L5_8,
    L6_9,
    L7_10,
    L8_11
  }
  L1_4 = -90
  L2_5 = -45
  L3_6 = 0
  L4_7 = 45
  L5_8 = 90
  L6_9 = 135
  L1_4 = {
    L2_5,
    L3_6,
    L4_7,
    L5_8,
    L6_9,
    L7_10
  }
  L2_5 = -90
  L3_6 = -30
  L4_7 = 30
  L5_8 = 90
  L6_9 = 150
  L2_5 = {
    L3_6,
    L4_7,
    L5_8,
    L6_9
  }
  L3_6 = -90
  L4_7 = 0
  L5_8 = 90
  L6_9 = 180
  L3_6 = 10
  L4_7 = 0
  L5_8 = 0
  L6_9 = 0
  for L10_13 = 4, L3_6 - 1 do
    if L10_13 == 4 then
      L14_17 = 1
      L11_14(L12_15, L13_16, L14_17)
      L11_14(L12_15)
      L14_17 = Particle_SetPosition
      L15_18 = 20
      L16_19 = L11_14
      L14_17(L15_18, L16_19, L12_15, L13_16)
    end
    if L10_13 < 2 then
      for L14_17 = 0, 3 do
        L15_18 = Player_SetRotateY
        L16_19 = L14_17 + 1
        L16_19 = L2_5[L16_19]
        L15_18(L16_19)
        L15_18 = DPRINT
        L16_19 = L14_17 + 1
        L16_19 = L0_3[L16_19]
        L15_18(L16_19)
        L15_18 = Wait_Timer
        L16_19 = 0.1 * L10_13
        L16_19 = 0.3 - L16_19
        L15_18(L16_19)
      end
    elseif L10_13 < 4 then
      for L14_17 = 0, 5 do
        L15_18 = Player_SetRotateY
        L16_19 = L14_17 + 1
        L16_19 = L1_4[L16_19]
        L15_18(L16_19)
        L15_18 = DPRINT
        L16_19 = L14_17 + 1
        L16_19 = L1_4[L16_19]
        L15_18(L16_19)
        L15_18 = Wait_Timer
        L16_19 = L10_13 - 2
        L16_19 = 0.05 * L16_19
        L16_19 = 0.1 - L16_19
        L15_18(L16_19)
      end
    elseif L10_13 < 8 then
      for L14_17 = 0, 7 do
        L15_18 = Player_SetRotateY
        L16_19 = L14_17 + 1
        L16_19 = L0_3[L16_19]
        L15_18(L16_19)
        L15_18 = DPRINT
        L16_19 = L14_17 + 1
        L16_19 = L0_3[L16_19]
        L15_18(L16_19)
        L15_18 = Wait_Timer
        L16_19 = L10_13 - 8
        L16_19 = 0.0025 * L16_19
        L16_19 = 0.01 - L16_19
        L15_18(L16_19)
      end
    else
      for L14_17 = 0, 5 do
        L15_18 = Player_SetRotateY
        L16_19 = L14_17 + 1
        L16_19 = L1_4[L16_19]
        L15_18(L16_19)
        L15_18 = DPRINT
        L16_19 = L14_17 + 1
        L16_19 = L1_4[L16_19]
        L15_18(L16_19)
        L15_18 = Wait_Timer
        L16_19 = 0.01
        L15_18(L16_19)
      end
    end
    L5_8 = L11_14 + L12_15
    L14_17 = L6_9
    L11_14(L12_15, L13_16, L14_17)
  end
  L7_10(L8_11)
  L10_13 = 1
  L7_10(L8_11, L9_12, L10_13, L11_14)
  L7_10()
  L7_10(L8_11)
  L7_10(L8_11)
  L10_13 = 0
  L7_10(L8_11, L9_12, L10_13)
  L7_10(L8_11)
  L7_10()
  L7_10(L8_11)
end
function fc_Map_SetRoomChangeEventNPC(A0_20, A1_21, A2_22, A3_23, A4_24, A5_25, A6_26, A7_27, A8_28)
  local L9_29, L10_30, L11_31, L12_32, L13_33, L14_34
  L9_29 = Npc_GetPosition
  L10_30 = A1_21
  L11_31 = L9_29(L10_30)
  L12_32 = Map_SetRoomChangeEventCircle
  L13_33 = A0_20
  L14_34 = L9_29
  L12_32(L13_33, L14_34, L11_31, A2_22, A3_23, A4_24, A5_25, A6_26, A7_27)
  L12_32 = Map_EventCollSetSE
  L13_33 = A0_20
  L14_34 = A8_28
  L12_32(L13_33, L14_34)
end
function fc_Map_SetRoomChangeEventMDL(A0_35, A1_36, A2_37, A3_38, A4_39, A5_40, A6_41, A7_42, A8_43)
  local L9_44, L10_45, L11_46, L12_47, L13_48, L14_49
  L9_44 = Model_GetPosition
  L10_45 = A1_36
  L11_46 = L9_44(L10_45)
  L12_47 = Map_SetRoomChangeEventCircle
  L13_48 = A0_35
  L14_49 = L9_44
  L12_47(L13_48, L14_49, L11_46, A2_37, A3_38, A4_39, A5_40, A6_41, A7_42)
  L12_47 = Map_EventCollSetSE
  L13_48 = A0_35
  L14_49 = A8_43
  L12_47(L13_48, L14_49)
end
function fc_Map_SetRoomChangeEventPTK(A0_50, A1_51, A2_52, A3_53, A4_54, A5_55, A6_56, A7_57, A8_58)
  local L9_59, L10_60, L11_61, L12_62, L13_63, L14_64
  L9_59 = Particle_GetPosition
  L10_60 = A1_51
  L11_61 = L9_59(L10_60)
  L12_62 = Map_SetRoomChangeEventCircle
  L13_63 = A0_50
  L14_64 = L9_59
  L12_62(L13_63, L14_64, L11_61, A2_52, A3_53, A4_54, A5_55, A6_56, A7_57)
  L12_62 = Map_EventCollSetSE
  L13_63 = A0_50
  L14_64 = A8_58
  L12_62(L13_63, L14_64)
end
function fc_Map_SetCallLuaFuncEventCirclePTK(A0_65, A1_66, A2_67, A3_68)
  local L4_69, L5_70, L6_71, L7_72, L8_73, L9_74
  L4_69 = Particle_GetPosition
  L5_70 = A1_66
  L6_71 = L4_69(L5_70)
  L7_72 = Map_SetCallLuaFuncEventCircle
  L8_73 = A0_65
  L9_74 = L4_69
  L7_72(L8_73, L9_74, L6_71, A3_68, A2_67)
end
function fc_GetRandomNextArea()
  local L0_75, L1_76, L2_77, L3_78, L4_79
  L0_75 = GetRandomDungeonFloor
  L0_75 = L0_75()
  L0_75 = L0_75 + 1
  L1_76 = DPRINT
  L2_77 = "randomdungeonfloor = "
  L3_78 = L0_75
  L2_77 = L2_77 .. L3_78
  L1_76(L2_77)
  L1_76 = 0
  L2_77 = {
    L3_78,
    L4_79,
    {
      119,
      126,
      133,
      140,
      120,
      127,
      134,
      141,
      121,
      128,
      -1
    },
    {
      119,
      126,
      133,
      140,
      120,
      127,
      134,
      141,
      121,
      128,
      135,
      142,
      129,
      -1
    },
    {
      119,
      126,
      133,
      140,
      120,
      127,
      134,
      141,
      121,
      128,
      135,
      142,
      129,
      122,
      136,
      143,
      -1
    },
    {
      140,
      120,
      127,
      134,
      141,
      121,
      128,
      135,
      142,
      129,
      122,
      136,
      143,
      123,
      130,
      137,
      -1
    },
    {
      134,
      141,
      121,
      128,
      135,
      142,
      129,
      122,
      136,
      143,
      123,
      130,
      137,
      144,
      124,
      131,
      -1
    },
    {
      128,
      135,
      142,
      122,
      129,
      136,
      143,
      123,
      130,
      137,
      144,
      124,
      131,
      138,
      145,
      125,
      -1
    },
    {
      122,
      129,
      136,
      143,
      123,
      130,
      137,
      144,
      124,
      131,
      138,
      145,
      125,
      132,
      143,
      146,
      -1
    },
    {
      119,
      120,
      121,
      122,
      123,
      124,
      125,
      126,
      127,
      128,
      129,
      130,
      131,
      132,
      133,
      134,
      135,
      136,
      137,
      138,
      139,
      140,
      141,
      142,
      143,
      144,
      145,
      146,
      -1
    }
  }
  L3_78 = {
    L4_79,
    126,
    133,
    140,
    -1
  }
  L4_79 = 119
  L4_79 = {
    119,
    126,
    133,
    140,
    120,
    127,
    134,
    -1
  }
  if L0_75 == 10 then
    L1_76 = 109
  elseif L0_75 == 20 then
    L1_76 = 110
  elseif L0_75 == 30 then
    L1_76 = 111
  elseif L0_75 == 40 then
    L1_76 = 112
  elseif L0_75 == 50 then
    L1_76 = 113
  elseif L0_75 == 60 then
    L1_76 = 114
  elseif L0_75 == 70 then
    L1_76 = 115
  elseif L0_75 == 80 then
    L1_76 = 116
  elseif L0_75 == 90 then
    L1_76 = 117
  elseif L0_75 == 100 then
    L1_76 = 118
  else
    L3_78 = 1
    L4_79 = math
    L4_79 = L4_79.floor
    L4_79 = L4_79(L0_75 / 10)
    L4_79 = L4_79 + 1
    DPRINT("tableNo = " .. L4_79)
    while L2_77[L4_79][L3_78] ~= -1 do
      L3_78 = L3_78 + 1
    end
    L1_76 = L2_77[L4_79][Rand_GetInt(L3_78 - 2) + 1]
    DPRINT("area = " .. L1_76)
  end
  return L1_76
end
function fc_Map_SetRandomRoomChangeEventPTK(A0_80, A1_81, A2_82, A3_83)
  local L4_84, L5_85, L6_86, L7_87
  L4_84 = Particle_GetPosition
  L5_85 = A1_81
  L6_86 = L4_84(L5_85)
  L7_87 = fc_GetRandomNextArea
  L7_87 = L7_87()
  Map_SetRoomChangeEventCircle(A0_80, L4_84, L6_86, A2_82, L7_87, 0, 0, 0, 0)
  Map_EventCollSetSE(A0_80, 16777223)
end
function fc_SetRandomMapAmbientType()
  local L0_88, L1_89, L2_90, L3_91
  L0_88 = {
    L1_89,
    L2_90,
    L3_91,
    3,
    4,
    5,
    6,
    7,
    8,
    9
  }
  L1_89 = 0
  L2_90 = 1
  L3_91 = 2
  L1_89 = GetRandomDungeonFloor
  L1_89 = L1_89()
  L1_89 = L1_89 + 1
  L2_90 = SetRandomDungeonFloor
  L3_91 = L1_89
  L2_90(L3_91)
  L2_90 = math
  L2_90 = L2_90.floor
  L3_91 = L1_89 - 1
  L3_91 = L3_91 / 10
  L2_90 = L2_90(L3_91)
  L2_90 = L2_90 + 1
  L3_91 = L0_88[L2_90]
  DPRINT("ambient = " .. L3_91)
  Map_SetMapAmbientType(L3_91)
end
function fc_Map_nendotakadai1()
  FadeOut(16)
  Wait_Fade()
  Player_SetPosition(-1.1, 4.4, 7.8)
  Player_SetRotateY(90)
  Camera_SetMode(0)
  FadeIn(16)
  Wait_Fade()
end
function fc_Map_nendotakadai2()
  FadeOut(16)
  Wait_Fade()
  Player_SetPosition(-6.7, 0, 7.8)
  Player_SetRotateY(-90)
  Camera_SetMode(0)
  FadeIn(16)
  Wait_Fade()
end
function fc_IsCoolType(A0_92)
  local L2_93, L3_94, L4_95, L5_96, L6_97, L7_98
  L2_93 = A0_92
  L3_94 = false
  for L7_98 = 0, 100 do
    if cool_type[L7_98] == L2_93 then
      L3_94 = true
      break
    end
    if cool_type[L7_98] == -1 then
      break
    end
  end
  return L3_94
end
function fc_SetMotionEX(A0_99, A1_100, A2_101, A3_102)
  local L4_103, L5_104, L6_105, L7_106, L8_107, L9_108
  L4_103 = -1
  L5_104 = -1
  L6_105 = -1
  L7_106 = -1
  L8_107 = -1
  L9_108 = Npc_GetCharID
  L9_108 = L9_108(A0_99)
  for _FORV_14_ = 1, 1000 do
    if motion_set[_FORV_14_][1] == A1_100 then
      if fc_IsCoolType(L9_108) == true then
        L4_103 = motion_cool_set[_FORV_14_][1]
        L5_104 = motion_cool_set[_FORV_14_][2]
        L6_105 = motion_cool_set[_FORV_14_][3]
        L7_106 = motion_cool_set[_FORV_14_][4]
        L8_107 = motion_cool_set[_FORV_14_][5]
        break
      end
      L4_103 = motion_set[_FORV_14_][1]
      L5_104 = motion_set[_FORV_14_][2]
      L6_105 = motion_set[_FORV_14_][3]
      L7_106 = motion_set[_FORV_14_][4]
      L8_107 = motion_set[_FORV_14_][5]
      break
    end
    if motion_set[_FORV_14_][1] == -1 then
      break
    end
  end
  if L4_103 ~= -1 then
    Npc_SetMotion(A0_99, L4_103, A2_101, A3_102)
    Npc_SetFace(A0_99, L5_104, L6_105)
    Npc_SetHand(A0_99, L7_106, L8_107)
    DPRINT("motion_id = " .. A1_100)
  else
    Npc_SetMotion(A0_99, A1_100, A2_101, A3_102)
    DPRINT("**error** " .. A1_100 .. " is no set motion")
  end
end
function fc_SetTalkMotionEX(A0_109, A1_110, A2_111, A3_112, A4_113)
  local L5_114, L6_115, L7_116, L8_117, L9_118, L10_119, L11_120
  L5_114 = -1
  L6_115 = -1
  L7_116 = -1
  L8_117 = -1
  L9_118 = -1
  L10_119 = A4_113 == nil and true or A4_113
  L11_120 = Actor_GetCharID
  L11_120 = L11_120(A0_109)
  for _FORV_16_ = 1, 1000 do
    if motion_set[_FORV_16_][1] == A1_110 then
      if fc_IsCoolType(L11_120) == true then
        L5_114 = motion_cool_set[_FORV_16_][1]
        L6_115 = motion_cool_set[_FORV_16_][2]
        L7_116 = motion_cool_set[_FORV_16_][3]
        L8_117 = motion_cool_set[_FORV_16_][4]
        L9_118 = motion_cool_set[_FORV_16_][5]
        break
      end
      L5_114 = motion_set[_FORV_16_][1]
      L6_115 = motion_set[_FORV_16_][2]
      L7_116 = motion_set[_FORV_16_][3]
      L8_117 = motion_set[_FORV_16_][4]
      L9_118 = motion_set[_FORV_16_][5]
      break
    end
    if motion_set[_FORV_16_][1] == -1 then
      break
    end
  end
  if L5_114 ~= -1 then
    Actor_SetTalkMotion(A0_109, L5_114, A2_111, A3_112, L10_119)
    Actor_SetEye(A0_109, L6_115)
    Actor_SetMouth(A0_109, L7_116)
    Actor_SetHand(A0_109, L8_117, L9_118)
  else
    Actor_SetTalkMotion(A0_109, A1_110, A2_111, A3_112, L10_119)
    DPRINT("**error** " .. A1_110 .. " is no set motion")
  end
end
function fc_SetCommonMotion(A0_121, A1_122, A2_123, A3_124)
  local L4_125, L5_126, L6_127, L7_128, L8_129
  L4_125 = -1
  L5_126 = -1
  L6_127 = -1
  L7_128 = -1
  L8_129 = -1
  for _FORV_13_ = 1, 1000 do
    if char_set[A1_122 + 1][_FORV_13_][1] == Npc_GetCharID(A0_121) or char_set[A1_122 + 1][_FORV_13_][1] == -1 then
      L4_125 = char_set[A1_122 + 1][_FORV_13_][2]
      L5_126 = char_set[A1_122 + 1][_FORV_13_][3]
      L6_127 = char_set[A1_122 + 1][_FORV_13_][4]
      L7_128 = char_set[A1_122 + 1][_FORV_13_][5]
      L8_129 = char_set[A1_122 + 1][_FORV_13_][6]
      break
    end
  end
  DPRINT("motion_id = " .. L4_125)
  Npc_SetMotion(A0_121, L4_125, A2_123, A3_124)
  Npc_SetFace(A0_121, L5_126, L6_127)
  Npc_SetHand(A0_121, L7_128, L8_129)
end
function fc_EndCommonMotion(A0_130, A1_131, A2_132, A3_133)
  local L4_134, L5_135, L6_136, L7_137, L8_138
  L4_134 = -1
  L5_135 = -1
  L6_136 = -1
  L7_137 = -1
  L8_138 = -1
  for _FORV_13_ = 1, 1000 do
    if char_reset[A1_131 + 1][_FORV_13_][1] == Npc_GetCharID(A0_130) or char_reset[A1_131 + 1][_FORV_13_][1] == -1 then
      L4_134 = char_reset[A1_131 + 1][_FORV_13_][2]
      L5_135 = char_reset[A1_131 + 1][_FORV_13_][3]
      L6_136 = char_reset[A1_131 + 1][_FORV_13_][4]
      L7_137 = char_reset[A1_131 + 1][_FORV_13_][5]
      L8_138 = char_reset[A1_131 + 1][_FORV_13_][6]
      break
    end
  end
  Npc_SetMotion(A0_130, L4_134, A2_132, A3_133)
  Npc_SetFace(A0_130, L5_135, L6_136)
  Npc_SetHand(A0_130, L7_137, L8_138)
end
function fc_SetCommonTalkMotion(A0_139, A1_140, A2_141, A3_142, A4_143)
  local L5_144, L6_145, L7_146, L8_147, L9_148, L10_149
  L5_144 = -1
  L6_145 = -1
  L7_146 = -1
  L8_147 = -1
  L9_148 = -1
  L10_149 = A4_143 == nil and true or A4_143
  for _FORV_15_ = 1, 1000 do
    if char_set[A1_140 + 1][_FORV_15_][1] == Actor_GetCharID(A0_139) or char_set[A1_140 + 1][_FORV_15_][1] == -1 then
      L5_144 = char_set[A1_140 + 1][_FORV_15_][2]
      L6_145 = char_set[A1_140 + 1][_FORV_15_][3]
      L7_146 = char_set[A1_140 + 1][_FORV_15_][4]
      L8_147 = char_set[A1_140 + 1][_FORV_15_][5]
      L9_148 = char_set[A1_140 + 1][_FORV_15_][6]
      break
    end
  end
  Actor_SetTalkMotion(A0_139, L5_144, A2_141, A3_142, L10_149)
  Actor_SetEye(A0_139, L6_145)
  Actor_SetMouth(A0_139, L7_146)
  Actor_SetHand(A0_139, L8_147, L9_148)
  DPRINT("ID " .. L5_144)
end
function fc_EndCommonTalkMotion(A0_150, A1_151, A2_152, A3_153, A4_154)
  local L5_155, L6_156, L7_157, L8_158, L9_159, L10_160
  L5_155 = -1
  L6_156 = -1
  L7_157 = -1
  L8_158 = -1
  L9_159 = -1
  L10_160 = A4_154 == nil and true or A4_154
  for _FORV_15_ = 1, 1000 do
    if char_reset[A1_151 + 1][_FORV_15_][1] == Actor_GetCharID(A0_150) or char_reset[A1_151 + 1][_FORV_15_][1] == -1 then
      L5_155 = char_reset[A1_151 + 1][_FORV_15_][2]
      L6_156 = char_reset[A1_151 + 1][_FORV_15_][3]
      L7_157 = char_reset[A1_151 + 1][_FORV_15_][4]
      L8_158 = char_reset[A1_151 + 1][_FORV_15_][5]
      L9_159 = char_reset[A1_151 + 1][_FORV_15_][6]
      break
    end
  end
  Actor_SetTalkMotion(A0_150, L5_155, A2_152, A3_153, L10_160)
  Actor_SetEye(A0_150, L6_156)
  Actor_SetMouth(A0_150, L7_157)
  Actor_SetHand(A0_150, L8_158, L9_159)
  DPRINT("ID " .. L5_155)
end
function fc_Map_SetEncountLoop(A0_161, A1_162, A2_163, A3_164)
  while true do
    Map_SetEncount(A0_161, A1_162, false)
    if GetBattleResult() == 3 then
      BGFilterFadeOut(0.1)
      Wait_BGFilterFade()
      FadeIn(16)
      Wait_Fade()
      if A3_164 == true then
        Message_WindowSystemOpen()
      else
        Message_WindowOpen(1)
      end
      Wait_MessageWindow()
      SetMes("BTL_00", "[TALK ]\230\136\166\233\151\152\227\130\146\227\130\132\227\130\138\231\155\180\227\129\151\227\129\190\227\129\153\227\128\130")
      Message_WindowClose()
      Message_Clear()
      Wait_MessageWindow()
      FadeOut(16)
      Wait_Fade()
      BGFilterFadeIn(0.1)
      Wait_BGFilterFade()
    else
      break
    end
  end
  if A2_163 == true then
    FadeIn(16)
    Wait_Fade()
  end
end
function fc_SetMesBranch(A0_165, A1_166, A2_167)
  local L3_168
  L3_168 = Search_MsgChar
  L3_168 = L3_168(A1_166, A2_167)
  fc_CharBranch(A0_165, L3_168)
end
function fc_SetClearEvent()
  local L0_169, L1_170, L2_171, L3_172, L4_173, L5_174, L6_175
  L0_169 = 10
  L1_170 = Particle_Create
  L2_171 = 20
  L3_172 = 0
  L1_170(L2_171, L3_172, L4_173)
  L1_170 = PlaySE
  L2_171 = 16777237
  L1_170(L2_171)
  L1_170 = Player_GetPosition
  L3_172 = L1_170()
  L4_173(L5_174, L6_175, L2_171, L3_172)
  for _FORV_7_ = 4, L0_169 - 1 do
    if _FORV_7_ < 8 then
      for _FORV_11_ = 0, 7 do
        L2_171 = L2_171 + 0.002857142857142857 * (_FORV_7_ - 4)
        Player_SetOffsetPosition(0, L2_171, 0)
        Wait_Timer(0.01 - 0.0025 * (_FORV_7_ - 8))
      end
    else
      for _FORV_11_ = 0, 5 do
        L2_171 = L2_171 + 0.005 * (_FORV_7_ - 4)
        Player_SetOffsetPosition(0, L2_171, 0)
        Wait_Timer(0.01)
      end
    end
  end
  L4_173(L5_174, L6_175, 1, 1)
  L4_173()
  L4_173(L5_174)
  L4_173(L5_174, L6_175, 0)
  L4_173(L5_174)
  L4_173(L5_174)
  L4_173(L5_174)
  L4_173()
  L4_173(L5_174)
  L4_173(L5_174)
end
function Character_SetVisibleAll(A0_176)
  local L1_177, L2_178, L3_179, L4_180, L5_181
  L1_177 = 0
  for L5_181 = 0, 7 do
    if Character_GetCharaId(L5_181) ~= -1 then
      Character_SetVisible(L5_181, A0_176)
    end
  end
end
function Player_SetVisibleAll(A0_182)
  local L1_183, L2_184, L3_185, L4_186, L5_187, L6_188
  L1_183 = 0
  L2_184 = GetPlayerPartyNum
  L2_184 = L2_184()
  L2_184 = L2_184 - 1
  for L6_188 = 0, L2_184 do
    Character_SetVisible(L6_188, A0_182)
  end
end
function Enemy_SetVisibleAll(A0_189)
  local L1_190, L2_191, L3_192, L4_193, L5_194, L6_195, L7_196
  L1_190 = 0
  L2_191 = GetEnemyPartyNum
  L2_191 = L2_191()
  L2_191 = L2_191 - 1
  for L6_195 = 0, L2_191 do
    L7_196 = L6_195 + 4
    Character_SetVisible(L7_196, A0_189)
  end
end
function BattleForceFirstAttackPlayer()
  BattleForceFirstAttack(1)
end
function BattleForceFirstAttackEnemy()
  BattleForceFirstAttack(2)
end
function BattleEndCheckFuncDefault()
  DPRINT("battle0000.luc" .. "::BattleEndCheckFuncDefault()")
  if IsGameOver() == true then
    return 2
  end
  if IsBattleWin() == true then
    return 1
  end
  return 0
end
function BattleEndCheckFuncSafetyLose()
  DPRINT("battle0000.luc" .. "::BattleEndCheckFuncSafetyLose()")
  if IsGameOver() == true then
    return 3
  end
  if IsBattleWin() == true then
    return 1
  end
  return 0
end
function BattlePlayBGM(A0_197)
  if A0_197 ~= GetMapBGM() then
    SetBattleBGM(A0_197)
  end
end
function battle_pre_load_func()
  DPRINT("battle0000.luc" .. "::battle_pre_load_func()")
end
function battle_post_load_func()
  DPRINT("battle0000.luc" .. "::battle_post_load_func()")
  BattlePlayBGM(7)
end
function battle_init_func()
  DPRINT("battle0000.luc" .. "::battle_init_func()")
end
function battle_end_func()
  DPRINT("battle0000.luc" .. "::battle_end_func()")
end
function battle_start_func()
  DPRINT("battle0000.luc" .. "::battle_start_func()")
end
function special_first_event_func()
  DPRINT("battle0000.luc" .. "::special_first_event_func()")
end
function start_turn_event_func(A0_198)
  DPRINT("battle0000.luc" .. "::start_turn_event_func(" .. A0_198 .. ")")
end
function event_after_damage_func()
  DPRINT("battle0000.luc" .. "::event_after_damage_func()")
end
function battle_end_check_func()
  DPRINT("battle0000.luc" .. "::battle_end_check_func()")
  return (BattleEndCheckFuncDefault())
end
